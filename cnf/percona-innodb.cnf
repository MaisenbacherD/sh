[mysqld]
default-tmp-storage-engine=MyISAM

# character-set-server=latin1
# collation-server=latin1_bin

# binary log
binlog_space_limit=4G
sync_binlog=1K
# skip-log-bin

# general
table_open_cache=256K
table_open_cache_instances=64

# connections
ssl=0
connect_timeout=120
back_log=4K
max_connections=4K
max_prepared_stmt_count=4M

# InnoDB
innodb_doublewrite=ON
innodb_flush_method=O_DIRECT
innodb_open_files=4K

#innodb_log_file_size=1G
innodb_log_file_size=16G
#innodb_log_file_size=128G

#innodb_buffer_pool_instances=4
innodb_buffer_pool_instances=8
#innodb_buffer_pool_instances=16
#innodb_buffer_pool_instances=32

innodb_max_dirty_pages_pct=90
#innodb_max_dirty_pages_pct=75
#innodb_max_dirty_pages_pct_lwm=0

innodb_page_cleaners=4
#innodb_page_cleaners=8
#innodb_page_cleaners=16

#innodb_lru_scan_depth=5000

innodb_use_native_aio=1

#innodb_write_io_threads = 2
#innodb_write_io_threads=32
#innodb_write_io_threads=64


#innodb_io_capacity_max=10000
innodb_io_capacity_max=4000
innodb_io_capacity=2000

#innodb_io_capacity_max=20000
#innodb_io_capacity=10000
#innodb_io_capacity_max=8000
#innodb_io_capacity=3000

#innodb_adaptive_flushing_lwm=30

#innodb_log_compressed_pages=0


# transaction-isolation=READ-COMMITTED
# innodb_flush_log_at_trx_commit=2
